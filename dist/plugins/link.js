!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.link=n()}(this,function(){"use strict";var e=function(e,n){var t=[],o=e;if(n)for(;o.tagName!=n;)t.unshift(o),o=o.parentNode;else for(;o;)t.unshift(o),o=o.parentNode;return t};return{install:function(n){var t=!1,o=!1,i=null,l=n.$getModal({title:"INSERT LINK"});l.setContent('\n      <input class="leylim-modal-input" id="leylim-insert-link"/ >\n    ');var a=document.querySelector("#leylim-insert-link");a.onchange=function(e){n.restoreSelection(),t&&(o=!0,document.execCommand("createLink",!1,e.target.value)),n.saveSelection()},l.onSave=function(){l.close(),n.forceUpdate()},l.onClose=function(){i=null,t=!1,a.value="",n.restoreSelection(),l.close()},l.onOpen=function(){var t=window.getSelection();if(t.focusNode){var o=t.focusNode.parentNode,i=e(o,"DIV").filter(function(e){return"A"==e.tagName})[0];if(i){a.value=i,t.rangeCount>0&&t.removeAllRanges();var l=document.createRange();l.selectNode(i),t.addRange(l),n.saveSelection()}}a.placeholder="Insert Link"},n.editorButtons.unshift({command:"",icon:"fa fa-link",handler:function(e){n.saveSelection(),t=!0,i=e,l.open()}})}}});
